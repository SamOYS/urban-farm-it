<section
  id="LeadGenHeaderSection"
  data-section-id="{{ section.id }}"
  data-section-type="lead-gen-header"
  class="lead-gen__header"
  {% if section.settings.background_type == 'image' %}
    style="background-image: url('{{ section.settings.background_image | img_url: 'master' }}'); background-size: cover; background-position: center;"
  {% endif %}
>
  <div class="container page-width">
    <div class="text-content">
      <h1 class="header__title">
        {{ section.settings.title }}
        {% if section.settings.title_highlight != blank -%}
          <span class="header__title-highlight">{{ section.settings.title_highlight }}</span>.
        {%- endif %}
      </h1>
      <div class="header__excerpt">{{ section.settings.header_excerpt | richtext }}</div>
      <div class="header__ctas" style="display: flex; align-items: center; gap: .5rem;">
        {% if section.settings.cta_link1 %}
          <a
            href="{{ section.settings.cta_link1 }}"
            class="btn"
            style="background: transparent; border: 1px solid #013F00; color: #013F00;"
          >
            {{- section.settings.cta_text1 | default: 'Book Consultation' -}}
          </a>
        {% endif %}
        {% if section.settings.cta_link2 %}
          <a href="{{ section.settings.cta_link2 }}" class="btn">
            {{- section.settings.cta_text2 | default: 'Book Consultation' -}}
          </a>
        {% endif %}
      </div>

      <div class="logo-section">
        <p class="trusted-by">{{ section.settings.trusted_by_text }}</p>
        <div class="logos">
          {% if section.blocks.size > 0 %}
            {% for block in section.blocks %}
              {% if block.type == 'logo' %}
                <div class="logo">
                  <img src="{{ block.settings.logo_image | img_url: 'master' }}" alt="{{ block.settings.logo_alt }}">
                </div>
              {% endif %}
            {% endfor %}
          {% else %}
            <div class="logo">
              <img
                src="https://cdn.shopify.com/s/files/1/0699/1940/8408/files/cardiff_university_logo.png?v=1714074897"
                alt="Default Logo 1"
              >
            </div>
            <div class="logo">
              <img
                src="https://cdn.shopify.com/s/files/1/0699/1940/8408/files/2_3b3c7b62-e453-49a4-a955-29f2ee424d11.png?v=1710957315"
                alt="Default Logo 2"
              >
            </div>
            <!-- <div class="logo">
              <img src="https://cdn.shopify.com/s/files/1/0699/1940/8408/files/3.png?v=1710957315" alt="Default Logo 3">
            </div> -->
          {% endif %}
        </div>
      </div>
    </div>

    {% if section.settings.background_type == 'default' %}
      <div class="image-content small--hide">
        <picture>
          {% if section.settings.header_image != blank %}
            <img
              src="{{ section.settings.header_image | img_url: 'master' }}"
              alt="{{ section.settings.header_image.alt }}"
            >
          {% else %}
            <img
              src="https://cdn.shopify.com/s/files/1/0699/1940/8408/files/mushroom-consultancy-header-2.png?v=1713951189"
              alt="Default Header Image"
            >
          {% endif %}
        </picture>
      </div>
    {% endif %}
  </div>
</section>

{% style %}
  [data-section-id="{{ section.id }}"] {
    /* margin-top: 1.25rem; */
    padding: 4.5rem 0 1.5rem 0;
    min-height: max(550px, 60vh);
    display: flex;
    align-items: center;
    position: relative;
  }

  {% if section.settings.background_type == 'image' %}
  [data-section-id="{{ section.id }}"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to right, #ffffff, #ffffff59);
  }

  @media only screen and (max-width: 768px) {
    [data-section-id="{{ section.id }}"]::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(#ffffff, #ffffffd4);
    }
  }
  {% endif %}
  [data-section-id="{{ section.id }}"] .btn {
    background: linear-gradient(to right, #03A500, #013F00);
    letter-spacing: 0px;
    text-transform: capitalize;
    font-size: 1rem;
  }

  [data-section-id="{{ section.id }}"] .text-content {
    max-width: 750px;
    z-index: 1;
  }

  [data-section-id="{{ section.id }}"] .logos {
    display: flex;
    width: 100%;
    gap: 1.5rem;
    align-items: center;
  }

  [data-section-id="{{ section.id }}"] .logos .logo img {
    height: 45px;
    width: auto;
    object-fit: contain;
  }

  {% if section.settings.background_type == 'default' %}
    [data-section-id="{{ section.id }}"] .image-content {
      position: absolute;
      right: 0;
      top: 0;
      height: 100%;
    }
  {% endif %}

  .logo-section {
    display: flex;
    align-items: center;
    margin-top: 3rem;
    gap: 1.5rem;
  }

  .trusted-by {
    font-size: clamp(12px, 5vw, 14px);
    white-space: nowrap;
    margin: 0;
  }

  {% if section.settings.background_type == 'default' %}
    [data-section-id="{{ section.id }}"] .image-content img {
      height: 100%;
      object-fit: cover;
    }
  {% endif %}

  [data-section-id="{{ section.id }}"] .container {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    justify-content: center;
  }

  [data-section-id="{{ section.id }}"] .btn {
    border: 1px solid #fff;
    width: fit-content;
  }

  [data-section-id="{{ section.id }}"] .header__subtitle {
    font-family: 'Josefin Sans' !important;
    letter-spacing: -.075em !important;
    font-weight: bold;
    text-transform: uppercase;
    margin-bottom: .5em;
  }

  [data-section-id="{{ section.id }}"] .header__title {
    font-family: 'DM Sans' !important;
    text-transform: unset !important;
    letter-spacing: -1px !important;
    font-size: clamp(50px, 5vw, 70px);
    line-height: 0.9;
    -webkit-text-stroke: 0 !important;
    font-weight: 1000 !important;
  }

  [data-section-id="{{ section.id }}"] .header__excerpt {
    font-size: clamp(14px, 5vw, 18px);
    margin: 2rem 0;
    width: 75%;
  }

  [data-section-id="{{ section.id }}"] .header__title-highlight {
    background: linear-gradient(to right, #03A500, #013F00);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  [data-section-id="{{ section.id }}"] .header__title-people {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    height: 1em;
    width: 2.5em;
    margin: 0 .25em;
  }

  [data-section-id="{{ section.id }}"] .header__title-people img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 50px;
  }
{% endstyle %}

{% schema %}
{
  "name": "LG: Header",
  "settings": [
    {
      "type": "select",
      "id": "background_type",
      "label": "Background Type",
      "options": [
        {
          "value": "default",
          "label": "Default"
        },
        {
          "value": "image",
          "label": "Background Image"
        }
      ],
      "default": "default"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "image_picker",
      "id": "header_image",
      "label": "Header Image"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "We make growing mushrooms"
    },
    {
      "type": "text",
      "id": "title_highlight",
      "label": "Title Highlight",
      "default": "simple"
    },
    {
      "type": "richtext",
      "id": "header_excerpt",
      "label": "Header Excerpt",
      "default": "<p>From expert advice to farm design and installation, we can help you succeed in mushroom cultivation.</p>"
    },
    {
      "type": "url",
      "id": "cta_link1",
      "label": "CTA 1 Link"
    },
    {
      "type": "text",
      "id": "cta_text1",
      "label": "CTA 1 Text",
      "default": "Book Consultation"
    },
    {
      "type": "url",
      "id": "cta_link2",
      "label": "CTA 2 Link"
    },
    {
      "type": "text",
      "id": "cta_text2",
      "label": "CTA 2 Text",
      "default": "Book Consultation"
    },
    {
      "type": "text",
      "id": "trusted_by_text",
      "label": "Trusted By Text",
      "default": "Trusted by"
    }
  ],
  "blocks": [
    {
      "type": "logo",
      "name": "Logo",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo_image",
          "label": "Logo Image"
        },
        {
          "type": "text",
          "id": "logo_alt",
          "label": "Logo Alt Text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "LG: Header",
      "category": "Header"
    }
  ]
}
{% endschema %}
